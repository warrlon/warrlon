# 服务介绍
OneNET 设备管理服务是针对物联网应用设备管理需要，提供机卡一体化管理特色能力，设备概况统计、设备信息增强管理、远程升级、故障追踪等功能，用于终端&物联网卡故障排查、机卡关系管理、终端状态查询、通信业务使用情况查询等场景。
## 产品入口
登录开发者中心后，通过顶部标题切换至设备管理。

![设备管理首页](/images/dj/设备管理首页.png)

## 设备概况统计

- 设备统计
   - 设备总数：用户下的设备总量
   - 在线数：当前在线数量
   - 在线率：设备在线的占比
   - 今日新增设备数：当日新增的设备数量
- API统计
   - 今日API调用：今日的API调用次数
   - 成功率：API的调用成功率，即访问成功（返回200视为成功）的比例
- 推送统计
   - 推送信息数量：今日推送信息的条数
   - 成功率：成功推送条数的占比
- 命令统计
   - 今日下发命令：今日命令下发的次数
   - 成功率：已发往设备和设备已响应的占比



## 设备信息管理

设备列表页面，用户可快捷切换到其他产品管理和查看设备信息


详情页面可以查看设备信息、历史数据、历史命令、在线记录（不同的协议标签页可能不同）


DMP基于OneNET基础设备信息拓展的设备信息管理，包含：基础信息、状态信息、位置信息、卡信息、版本信息

|信息	|采集方式|	固定数据流名称|	说明|
|:-|:-|:-|:-|:-|
|基础信息|	提供API接口|	无|	在当前设备信息上新增信息，通过页面、或者接口填写|
|状态信息|	平台记录|	无	|无|
|位置信息|	固定数据流名称及字段|	$OneNET _LBS	|通过接口或者报文上报|
|卡信息|	固定数据流名称及字段|	$OneNET_cardinfo|	通过页面、接口、或者报文上报|
|版本信息|	固定数据流名称及字段|	$OneNET_versioninfo|	通过接口或者报文上报|

    注：以$OneNET打头的数据流为系统数据流


- 基础信息模块

|英文|中文|说明|来源|格式要求|
|:-|:-|:-|:-|:-|:-|
|id|设备ID|设备ID平台唯一|平台生成|long的string|
|title|	设备名称|	用户自定义|	用户填写|	String限制64个字|
|APIkey|	APIkey|	设备的key|	平台生成|	String|
|auth_info|	鉴权信息|	用户自定义鉴权信息|	用户填写	|Object,64位|
|IMEI|	IMEI|	国际标准|	用户填写/设备上报|	String,国际标准15位|
|desc|	描述	|设备描述信息	|用户填写|	String，512字|
|protocol|	协议类型|	平台上的协议类型|	用户填写|	string|
|Manufacturer_Id	|生产厂商|	生产厂商名称，用户自定义，全局唯一| 	用户填写|	String，32个字|
|Model|	型号	|型号名称，用户自定义	|用户填写	|String，32个字|
|create_time|	创建时间|	新建设备的时间|	自动生成	|datetime|
|activated state|	激活状态|	分为已激活、未激活、若未有上线记录，则为未激活|	服务器记录|	boolean|
|first_active time|	激活时间	|第一次连接接入机的时间	|服务器记录	|datetime|
|location|	位置	|地址描述	|用户填写	|object |
|other	|其他|	其他自定义信息|	用户填写|	object|

- 状态信息（status information）

|英文|中文|说明|来源|格式要求|
|:-|:-|:-|:-|:-|:-|
|online	|设备状态	|在线、离线|	服务器记录|	boolean|
|Last_connection_date|	最后连接时间|	最后连接服务器时间|	服务器记录|	datetime|

- 位置信息（$OneNET_LBS）

|英文|中文|说明|来源|格式要求|
|:-|:-|:-|:-|:-|:-|
|cid|	基站编码|	基站编码	|设备上报/API接口|	int，最长32位|
|lac|	地区编码|	地区编码	|设备上报/API接口|	int，最长32位|
|mnc|	移动网号|	移动网号,选填|	设备上报/API接口|	int|
|mcc|	移动国家号码|	选填	|设备上报/API接口|	int|
|networktype|	网络制式|	网络制式|	设备上报/API接口|	int|
|ss	|信号强度|	信号强度|	设备上报/API接口	|int|
|signalLength|	当前基站广播的信号强度|	当前基站广播的信号强度|	设备上报/API接口|	int|
|ta	|移动台距|	以确定其发往基站的定时超前量|设备上报/API接口|int|

- 物联卡信息（$OneNET_cardinfo）

|英文|中文|说明|来源|格式要求|
|:-|:-|:-|:-|:-|:-|
|imsi|	IMSI|	国际标准|	设备上报|	int,最长15位|
|msisdn|	物联卡号	|13位数字	|设备上报|	Int，最长13位|
|iccid|	ICCID|	国际标准|	设备上报|	int,最长20位|


- 版本信息（$OneNET_versioninfo）

|英文|中文|说明|来源|格式要求|
|:-|:-|:-|:-|:-|:-|
|fw_version|	固件版本|	固件版本号|	设备上报|	String，长度限制32位|
|hw_version	|硬件版本|	硬件的版本号|	设备上报|	String，长度限制32位|
|sw_version	|软件版本	|软件的版本号|	设备上报|	String，长度限制32位|

上报示例json数据点部分

```json
{
    "$OneNET_cardinfo": {
        "imsi": "1331231231231231", 
        "iccid": "12312312312434324234324324324"
    }
}
```

-  信息存储

存储时间如下

|信息|存储方式|说明|
|:-|:-|:-|
|基础信息|	存储最新值|无	|
|状态信息|	存储最新值	|无|
|LBS|	存储近一段时间的值|	一年|
|卡信息	|存储最新值|	无|
|版本信息|	存储最新值	|无|

    其他部分统计时间截止昨日



## 机卡一体化功能介绍

OneNET提供机卡一体化管理特色能力（移动的物联卡），用于终端&物联网卡故障排查、机卡关系管理、终端状态查询、通信业务使用情况查询等场景。

### 使用说明
使用机卡一体化功能需要先绑定Onelink的EC账号，通过绑定的EC账号来判断是否具有对应卡号的查询权限。
### EC账号绑定
新建绑定用户时，需要跳转到Onelink进行登录验证
### 机卡关系建立方式
|方式|使用说明|
|:-|:-|
|页面新建机卡关系|通过页面新建单个关系，或通过页面批量导入机卡关系|
|API接口新建机卡关系|通过接口来新建机卡关系,见下一章节|
|数据点上报|通过向系统指定数据流上报规范数据点的方式建立机卡关系|
    注：系统机卡数据流为$OneNET_cardinfo，上报数据点的json包含imsi，msisdn，iccid一个或多个关键字
