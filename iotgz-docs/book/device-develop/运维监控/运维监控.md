# 运维监控

## 设备调试

在左侧边导航栏中选择【运维监控】，点击选择【设备调试】。页面展示内容包括设备信息、调试相关信息。
![设备调试](/images\O$M\设备调试.png)
该页面支持以下功能：

1. 支持用户基于【设备模拟器】进行相关操作
2. 支持用户基于【应用模拟器】进行相关操作

### 设备模拟器

用户进入【设备调试】页面，默认展示【设备模拟器】相关信息。用户选择设备，点击【启动调试】按钮，即可进行调试。
其中，系统可支持不同类型设备调试功能：设备为网关设备时，支持设备进行网关调试和子设备调试，包括属性上报、属性期望值获取、事件上报、子设备拓扑关系；当设备为直连设备时，仅支持属性上报、事件上报。
即该页面支持以下功能：

- 支持设备进行属性上报功能
- 支持属性期望值获取功能
- 支持事件上报功能
- 支持子设备拓扑关系调试功能

### 应用模拟器

用户进入【设备调试】页面，默认展示【应用模拟器】相关信息。用户选择设备，切换不同按钮，即可进行相关操作。
该页面支持以下功能：

- 支持设备进行属性设置功能
- 支持设备属性获取
- 支持属性期望值获取功能
- 支持服务调用功能

## 设备日志

在左侧边导航栏中选择【设备日志】，系统默认展示最近15分钟数据相关列表信息。具体包括日志时间、设备名称、所属产品、链路ID、消息ID、业务类型、日志状态、日志内容。
![设备日志](/images\O$M\设备日志.png)
该页面支持以下功能：

- 支持用户基于所属产品、业务类型、日志状态、日志时间、设备名称、链路ID、消息ID进行搜索功能
- 支持用户查看日志详情功能

## 告警中心

在左侧边导航栏中选择【运维监控】，点击选择【告警中心】，系统默认显示【告警列表】信息，可切换查看【告警规则】。
![告警中心](/images\O$M\告警中心.png)
该页面主要功能如下：

1. 支持用户基于【告警列表】进行相关操作
2. 支持用户基于【告警规则】进行相关操作

### 告警列表

系统默认显示【告警列表】信息，具体包括告警数统计图、未处理告警数、告警ID、告警规则名称、告警规则描述、告警等级、触发时间、处理时间、告警状态、处理结果。
该页面支持以下操作：

- 支持用户查看7日告警数统计结果
- 支持用户查看7日未处理告警数
- 支持用户基于告警级别、告警状态、处理时间、告警规则名称进行查询功能
- 支持用户处理告警内容
- 支持用户忽略告警内容

### 告警规则

用户点击切换【告警规则】按钮，可跳转至告警规则页面查看规则列表详情，具体包括告警规则名称、告警规则描述、告警类型、告警级别、状态信息。
该页面支持以下操作：

- 支持用户通过告警规则名称进行查询功能
- 支持用户基于规则名称、告警类型、告警级别进行规则添加功能
- 支持用户启用/禁用规则功能
- 支持用户删除规则功能
- 支持用户编辑功能
其中，用户进入【告警规则】页面，点击【编辑规则】按钮进入如下界面，可查看该规则现有详情。再次点击【编辑规则】，可自改执行限制、触发方式、产品、功能、判断条件、持续时间进行规则编辑。

## 远程升级

在左侧边导航栏中选择【运维监控】，点击选择【远程升级】，系统默认显示【升级包管理】信息，可切换查看【升级任务通知】、【版本分布】、【转入设备批次】信息。
![远程升级](/images\O$M\远程升级.png)
该页面主要功能如下：

1. 支持用户基于【升级包管理】功能进行相关操作
2. 支持用户基于【升级任务通知】功能进行相关操作
3. 支持用户基于【版本分布】功能进行相关操作
4. 支持用户基于【转入设备批次】功能进行相关操作

### 升级包管理

系统默认显示【升级包管理】列表信息，具体包括升级包名称、升级包类型、目标版本号、待升级版本、所属产品、状态、添加时间、启用状态信息。
该页面支持以下功能：

- 支持基于升级包名称、所属产品搜索功能
- 支持添加升级包功能
- 支持升级包验证升级功能
- 支持升级包批量升级功能
- 支持升级包详情查看功能
- 支持升级包删除功能

#### 添加升级包

用户点击【添加升级包】按钮，通过升级包类型、升级包名称、确定所属产品、升级模块、目标版本、升级包描述、上传升级包进行添加，返回结果在前端进行展示。

#### 验证升级

用户点击【验证升级】按钮，选择待升级版本号、通知方式、设备，点击【开始验证】按钮进行验证，也可以点击【跳过验证】按钮跳过验证步骤，跳过验证之后可直接进行批量升级，但将不能再进行验证升级。

#### 批量升级

用户点击【批量升级】按钮，选择待升级版本号、升级策略、升级范围、升级时间、升级失败重试策略、设备升级超时时间等，确认批量升级内容。

#### 详情查看

用户点击【详情】按钮，跳转至升级包详情页面。支持系统查看【批次列表】和【设备列表】相关详情，支持用户进行验证升级、批量升级、取消升级、查看所在批次等操作。

### 升级任务通知

用户点击查看【升级任务通知】相关信息，包括升级任务通知配置和关联升级列表信息，列表具体包括升级包名称、升级包类型、目标版本号、所属产品、升级模块、状态信息。
该页面支持以下功能：

1. 支持用户添加升级任务通知功能
2. 支持用户根据升级包名称、所属产品查询关联升级列表信息功能
3. 支持用户进行关联升级功能
4. 支持用户根据升级包名称查询关联通知记录信息功能

#### 添加升级任务通知

用户点击【添加升级任务通知】按钮，通过UL、token进行添加，返回结果在前端进行展示。

#### 关联升级

用户在关联升级页面，点击【关联升级】按钮，通过选择所属产品、升级包相关内容实现关联升级，内容返回前端进行展示。

#### 通知记录

用户点击切换展示【通知记录】列表信息，具体包括升级包名称、批次ID、最新执行推送时间、推送状态、信息类型。

### 版本分布

用户点击查看【版本分布】相关信息，点击产品名称可查看该产品的版本占比和设备列表信息。

该页面支持以下功能：

1. 支持用户查看版本占比信息
2. 支持用户查看设备列表信息

#### 版本占比

在左侧边导航栏中选择【运维监控】，点击选择【远程升级】，切换查看【版本分布】信息。系统默认展示某产品下【版本占比】列表信息，包括版本号、升级模块、设备数、占比信息，可切换产品查看相应内容。

#### 设备列表

用户切换【设备列表】按钮，可查看设备名称、模组固件版本号、MCU软件版本号、版本更新时间、版本升级总数、版本失败总次数。用户选择某产品，可查看该产品下任意设备详情，支持通过设备名称进行搜索功能，支持用户查看升级日志详情功能。

### 转入设备批次

用户进入【远程升级】页面，点击切换至【转入设备批次】信息，系统默认展示转入设备批次列表详情，具体包括批次ID、产品ID、产品名称、起始版本、目标版本、创建时间、状态信息。
该页面支持以下功能：

- 支持根据状态、产品名称、产品ID进行搜索功能
- 支持批次详情查看功能
其中，【查看详情】具体操作如下：用户点击【查看详情】按钮，可切换至详情页面。支持用户查看【待升级】、【升级中】、【升级成功】、【升级失败】不同状态列表信息。支持用户同意、拒绝相关转入设备。
