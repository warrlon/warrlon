# 用户权限管理

## 服务简介

用户权限管理服务支持OneNET用户通过邀请其他OneNET用户并授予权限的方式，与协作者分享账户下的服务资源，实现多用户协同操作。


## 术语解释

<table>
<tr><th width="30%">术语</th><th width="70%">解释</th></tr>
<tr><td>角色</td><td>具有相同的一项或多项操作权限的用户组。</td></tr>
<tr><td>别名</td><td>主账户为邀请协作的账户制定的便于主账户记忆/管理的用户名称。</td></tr>
<tr><td>用户Accesskey</td><td>主账户用于操作用户自己的所有资源，并拥有完全的权限，包括产品、设备、项目等。</td></tr>
<tr><td>共享Accesskey</td><td>当用户加入另一用户创建的角色后获得的key，每加入一个角色会产生一个key，该key可以操作用户所属角色的授权资源。<br>比如某角色的创建者创建了可以查看A产品，可以新增B产品的权限，那么加入该角色的用户则可以使用这个key进行A产品的查看以及B产品的新增操作。</td></tr>

</table>

## 控制台使用

### 开通服务
用户可通过开发者中心顶部导航栏 **用户权限管理**进入并开通服务，目前仅面向企业用户开放。

![进入](/images/purview/进入服务.png)

![开通](/images/purview/开通服务.png)

### 角色管理
#### 添加角色
进入角色管理，点击**添加角色**进行角色权限设置，即授予某个角色一项或多项操作权限，点击**完成**完成角色设置。

![添加角色](/images/purview/添加角色.png)

![角色设置](/images/purview/角色设置.png)

注意：权限有对应资源的时候，需要添加至少一个对应的资源，比如授予某个角色产品管理的权限，则需要至少添加一个产品。

#### 角色管理
角色列表中可以查看创建的角色以及已邀请加入的用户数，支持对已创建的角色进行编辑、删除。

### 用户管理

#### 邀请用户
进入用户管理，点击**邀请用户**进行用户邀请，可为该用户设置别名，便于管理。

![邀请用户](/images/purview/邀请用户.png)

![用户设置](/images/purview/邀请用户明细.png)

#### 查看链接
完成页面的邀请用户操作后，需在用户列表中点击**查看邀请链接**，将该链接发送给邀请的用户。

![查看邀请链接](/images/purview/查看链接.png)

![复制邀请链接](/images/purview/复制链接.png)

被邀请用户同意后，即完成用户的邀请，用户列表中该用户的状态更新为正常。

![完成用户邀请](/images/purview/正常状态.png)

### 查看日志
用户可在行为日志中查看到自己以及所有邀请用户的操作日志，便于用户进行管理。

![查看行为日志](/images/purview/查看日志.png)

### 被邀请用户操作

#### 确认加入
被邀请用户获得链接后需要进行确认操作，即打开链接点击同意后才能加入某个用户的某个角色。若24小时内无操作则默认拒绝加入该角色。

![进行确认操作](/images/purview/打开链接.png)

#### 查看Accesskey
进入用户中心->访问权限，被邀请用户可以查看自己的用户Accesskey和加入某个角色的共享Accesskey，利用该共享Accesskey即可操作用户所属角色的授权资源。

![查看Accesskey](/images/purview/查看KEY.png)



