# TCP

OneNET支持的用户通过TCP透传的方式上传数据，为任何协议设备接入OneNET提供了可行性。设备通过TCP连接接入OneNET，认证成功后即可与OneNET之间进行数据交互，OneNET通过用户上传的自定义脚本来实现对设备上传数据的解析以及向设备下发数据。

![pic](/images/TCP/脚本工作方式.png)

## 功能特点

- 长连接
- 用户自定义脚本，仅支持lua
- 高灵活性
- 支持一个连接传输多个设备数据

## 使用限制

|限制项目|限制内容|超限说明|
|:-|:-|:-|
|产品内脚本数量|最多10个||
|脚本文件大小|小于2M||
|单脚本运行内存|小于100kB|超出则丢弃数据|
|脚本单次执行时间|小于2ms|超时则丢弃数据|
|流量限制|设备数据上/下行数据报文长度不超过1k|超出则丢弃数据|

## 典型应用场景

TCP透传的高灵活性决定了它不受约束，它主要适用于用户自定义协议的情况，可以根据自身定义的脚本完成任何协议的交互，并且支持脚本的随时修改随时上传。协议支持一个连接传输多个设备数据，可以集中的下挂多个设备进行数据上传与下发。在智能电表、智能水表等智能仪表领域有广泛的应用。