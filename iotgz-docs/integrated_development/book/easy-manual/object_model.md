# 物模型添加指引
本页目录

<a href="#1">1. 添加物模型</a> 

<a href="#2">2. 物模型导出与复制</a> 

---
<h3 id="1"><font color="#CD7054">1. 添加物模型</font></h3>

1）进入/登录[行业开发平台](https://open.iot.10086.cn/industry/home/) ;

2）在顶部导航栏中，选择**控制台** ;

3）在产品列表页面产品列表中，单击产品进入产品详情，若无产品需要先[创建产品](/book/equipment_manufacturer/create_produce&device.md)。

4）在产品详情页左侧菜单栏，点击**产品开发**，选择产品功能定义。

> 说明 已发布的产品不能添加和更新功能点。

5）添加标准功能。选择**基础功能点 > 添加标准功能**，然后在弹出的对话框中，选择适用于该产品的行业开发平台预定义的标准功能。

<center>
    <img width="95%" style="box-shadow: 5px 5px 10px rgba(0,0,0,0.4);" 
    src="/images/物模型_添加标准功能1.png">
    <br>
    图 1 添加标准功能入口
    <br>
    <img width="95%" style="box-shadow: 5px 5px 10px rgba(0,0,0,0.4);" 
    src="/images/物模型_添加标准功能.png">
    <br>
    图 2 添加标准功能
    <br>
</center>

6）添加自定义功能。单击**添加自定义功能**为产品新增自定义功能。您可为产品自定义属性和事件。

<center>
    <img width="95%" style="box-shadow: 5px 5px 10px rgba(0,0,0,0.4);" 
    src="/images/物模型_添加自定义功能1.png">
    <br>
    图 3 添加自定义功能入口
    <br>
</center>

<font color="#CD7054"> &#9672; 自定义属性</font>：在**添加自定义功能**对话框中，选择功能类型为**属性**。设置参数完成后，单击**确认**。

<center>
    <img width="95%" style="box-shadow: 5px 5px 10px rgba(0,0,0,0.4);" 
    src="/images/物模型_添加自定义功能.png">
    <br>
    图 4 添加自定义功能：属性
    <br>
</center>

- 属性参数设置说明如下表：

<table width="95%">
<tr><th width="20%">参数</th><th>说明</th></tr>
<tr><td>功能点名称</td><td>属性的名称，例如用电量。同一产品下功能名称不能重复。<br>
支持中文、大小写字母、数字、短划线和下划线，且必须以中文、英文或数字开头，不超过20个字符。
</td></tr>
<tr><td>字段名称</td><td>属性唯一标识符，在产品中具有唯一性。即功能点信息中的 subject的值，可包含英文、数字、下划线，以字母开头，长度不超过20个字符。</td></tr>
<tr><td>数据类型</td><td><font color="#436EEE">布尔型：</font>BOOLEAN，数据长度1个字节，采用0或1来定义布尔值。例如0-关；1-开。<br>
<font color="#436EEE">数值型：</font>INTEGER（整数型），数据长度4个字节，范围[-2147483648~2147483647]。需定义取值范围、间距和单位符号。Float（单精度浮点型），数据长度4个字节，范围[3.4E-38~3.4E+38]。需定义取值范围、间距和单位符号。<br>
<font color="#436EEE">枚举型：</font>ENUM，数据长度1个字节，范围[0~255]。定义枚举项的参数值和参数描述，例如1-加热模式、2-制冷模式等。<br>
<font color="#436EEE">字符型: </font>STRING，需定义字符串的数据长度，数据长度最长支持1048576字节。<br>
<font color="#436EEE">透传型：</font>BUFFER，以十六进制的字符串形式透传的功能点，需定义字符串的数据长度，数据长度最长支持1048576字节。
</td></tr>
<tr><td>数值范围</td><td>属性值和事件中输入输出参数值变化的最小粒度。数据类型为数值型时，需要根据您的业务需要设置数值范围。<br>
<font face="楷体">例如为温度计产品定义温度属性时，将数据类型设置为int32，间距为2，单位为℃，取值范围-30~30。即温度每变化两度，设备上报温度值，例如-2℃、0℃、2℃、4℃……。
</font></td></tr>
<tr><td>单位</td><td>单位可选择为无或根据实际情况选择。</td></tr>
<tr><td>传输类型</td><td>可下发可上报：指令数据可以下发给设备，设备数据可以上报给云端；<br>
只上报：数据只支持从设备上报；<br>
只下发：数据只支持从云端下发。
</td></tr>
<tr><td>描述</td><td>输入文字，对该功能进行说明或备注。长度限制为最大不超过200个字符。</td></tr>
</table>

<font color="#CD7054"> &#9672; 自定义事件</font>：在**添加自定义功能**对话框中，选择功能类型为**事件**。设置参数完成后，单击**确认**。

<center>
    <img width="95%" style="box-shadow: 5px 5px 10px rgba(0,0,0,0.4);" 
    src="/images/添加自定义功能_事件.png">
    <br>
    图 5 添加自定义功能：事件
    <br>
</center>

- 事件参数设置说明如下表：

<table width="95%">
<tr><th width="20%">参数</th><th>说明</th></tr>
<tr><td>功能点名称</td><td>事件的名称。支持中文、大小写字母、数字、短划线和下划线，且必须以中文、英文或数字开头，不超过20个字符。
</td></tr>
<tr><td>字段名称</td><td>事件唯一标识符，在产品下具有唯一性。即功能点信息中的 subject的值，可包含英文、数字、下划线，以字母开头，长度不超过20个字符，例如 ErrorCode。</td></tr>
<tr><td>事件类型</td><td>事件型：EXCEPTION，每一位标识一个“信息”，“信息”是设备上报的一般性通知，如完成某个功能操作。“告警”和“故障”是设备运行过程中主动上报的异常情况，优先级高。不同的事件类型将用于统计分析。最多表示64个。数据长度4个字节，范围[0~2147483647]。</td></tr>
<tr><td>输出参数</td><td>该事件的出参。单击添加输出参数，在弹窗对话框中添加一个输出参数。参数格式包括：参数名称、参数字段、数据类型及参数范围。</td></tr>
<tr><td>描述</td><td>输入文字，对该功能进行说明或备注。长度限制为最大不超过200个字符。</td></tr>
</table>

7）添加组合功能。选择**组合功能点 > 添加组合功能**，然后在弹出对话框中，您可为产品新增自定义的组合功能点。

<center>
    <img width="95%" style="box-shadow: 5px 5px 10px rgba(0,0,0,0.4);" 
    src="/images/物模型_添加组合功能.png">
    <br>
    图 6 添加组合功能入口
    <br>
</center>

<font color="#CD7054"> &#9672; 新建组合功能：</font>在**新建组合功能**对话框中，选择功能类型为**属性或事件**。设置参数完成后，单击**确认**。

<center>
    <img width="95%" style="box-shadow: 5px 5px 10px rgba(0,0,0,0.4);" 
    src="/images/物模型_新建组合功能.png">
    <br>
    图 7 新建组合功能
    <br>
</center>

- 参数设置说明如下表：

<table width="95%">
<tr><th width="20%">参数</th><th>说明</th></tr>
<tr><td>功能点名称</td><td>属性或事件的名称，例如用电量。同一产品下功能名称不能重复。<br>支持中文、大小写字母、数字、短划线和下划线，且必须以中文、英文或数字开头，不超过20个字符。
</td></tr>
<tr><td>功能类型</td><td>组合功能的类型为属性或事件时，独立功能点类型只能为对应的属性类型或事件类型。</td></tr>
<tr><td>传输类型</td><td>可下发可上报：指令数据可以下发给设备，设备数据可以上报给云端；<br>
只上报：数据只支持从设备上报；<br>
只下发：数据只支持从云端下发。
</td></tr>
<tr><td>字段名称</td><td>属性或事件的唯一标识符，在产品中具有唯一性。可包含英文、数字、下划线，以字母开头，长度不超过20个字符</td></tr>
<tr><td>独立功能点</td><td>独立功能点是基础功能点，组合功能点由多个基础功能点组合构成的，可共同上报，共同下发。</td></tr>
</table>

8）添加固定上报功能。选择**固定功能点 > 添加标准功能**，然后在弹出对话框中，选择适用于该产品在平台预定义的标准功能。

<center>
    <img width="95%" style="box-shadow: 5px 5px 10px rgba(0,0,0,0.4);" 
    src="/images/物模型_添加固定上报1.png">
    <br>
    图 8 添加固定上报入口
    <br>
</center>

<font color="#CD7054"> &#9672; 添加固定上报：</font>在**添加固定上报功能**对话框中，设置相应参数，单击**确认**。

<center>
    <img width="95%" style="box-shadow: 5px 5px 10px rgba(0,0,0,0.4);" 
    src="/images/物模型_添加固定上报.png">
    <br>
    图 9 添加固定上报
    <br>
</center>

- 参数设置说明如下表：

<table width="95%">
<tr><th width="20%">参数</th><th>说明</th></tr>
<tr><td>功能点名称</td><td>属性的名称，例如用电量。同一产品下功能名称不能重复。<br>支持中文、大小写字母、数字、短划线和下划线，且必须以中文、英文或数字开头，不超过20个字符。
</td></tr>
<tr><td>字段名称</td><td>属性唯一标识符，在产品中具有唯一性。可包含英文、数字、下划线，以字母开头，长度不超过20个字符。</td></tr>
<tr><td>数据类型</td><td><font color="#436EEE">布尔型：</font>BOOLEAN，数据长度1个字节，采用0或1来定义布尔值。例如0-关；1-开。<br>
<font color="#436EEE">数值型：</font>INTEGER（整数型），数据长度4个字节，范围[-2147483648~2147483647]。需定义取值范围、间距和单位符号。Float（单精度浮点型），数据长度4个字节，范围[3.4E-38~3.4E+38]。需定义取值范围、间距和单位符号。<br>
<font color="#436EEE">枚举型：</font>ENUM，数据长度1个字节，范围[0~255]。定义枚举项的参数值和参数描述，例如1-加热模式、2-制冷模式等。<br>
<font color="#436EEE">字符型: </font>STRING，需定义字符串的数据长度，数据长度最长支持1048576字节。<br>
<font color="#436EEE">透传型：</font>BUFFER，以十六进制的字符串形式透传的功能点，需定义字符串的数据长度，数据长度最长支持1048576字节。
</td></tr>
<tr><td>传输类型</td><td>只上报：固定上报功能的数据只支持从设备上报。</td></tr>
<tr><td>值的定义</td><td>关于固定上报功能点值的描述。</td></tr>
<tr><td>备注</td><td>输入文字，对该功能进行说明或备注。长度限制为最大不超过200个字符。</td></tr>
</table>

<h3 id="2"> <font color="#CD7054">2. 物模型导出与复制</font></h3>

完成功能定义后，物联网平台为该产品生成物模型，支持指定产品的功能点复制，也支持功能点的导出与导入。

<center>
    <img width="95%" style="box-shadow: 5px 5px 10px rgba(0,0,0,0.4);" 
    src="/images/物模型_功能点导入导出与复制.png">
    <br>
    图 10 功能点导入、导出与复制
    <br>
</center>

&#9659; 导入功能点：可导入分类相同产品的功能点，仅支持.json格式文件。

&#9659; 导出全部功能点：导出.json文件，包含该产品下定义的全部功能点定义。

&#9659; 复制功能定义：该操作可将您的其它产品或已经获取的产品所定义的物模型复制到当前产品下，复制的产品物模型会覆盖当前产品所定义的功能。

<div>
    <a href="/book/easy-manual/role_description.md">
        <span> &#171; 上一篇：角色说明</span>
    </a>
</div>
<div>
    <a href="/book/equipment_manufacturer/total_use_process.md">
        <span> &#187; 下一篇：设备生产商_流程概览</span>
    </a>
</div>